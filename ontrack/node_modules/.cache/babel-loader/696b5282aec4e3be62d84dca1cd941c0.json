{"ast":null,"code":"'use strict';\n\nmodule.exports = function parseBytea(input) {\n  if (/^\\\\x/.test(input)) {\n    // new 'hex' style response (pg >9.0)\n    return new Buffer(input.substr(2), 'hex');\n  }\n\n  var output = '';\n  var i = 0;\n\n  while (i < input.length) {\n    if (input[i] !== '\\\\') {\n      output += input[i];\n      ++i;\n    } else {\n      if (/[0-7]{3}/.test(input.substr(i + 1, 3))) {\n        output += String.fromCharCode(parseInt(input.substr(i + 1, 3), 8));\n        i += 4;\n      } else {\n        var backslashes = 1;\n\n        while (i + backslashes < input.length && input[i + backslashes] === '\\\\') {\n          backslashes++;\n        }\n\n        for (var k = 0; k < Math.floor(backslashes / 2); ++k) {\n          output += '\\\\';\n        }\n\n        i += Math.floor(backslashes / 2) * 2;\n      }\n    }\n  }\n\n  return new Buffer(output, 'binary');\n};","map":null,"metadata":{},"sourceType":"script"}