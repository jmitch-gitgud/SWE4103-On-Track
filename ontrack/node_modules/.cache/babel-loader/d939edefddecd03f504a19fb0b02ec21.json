{"ast":null,"code":"/**\n * Response.js\n *\n * Response class provides content decoding\n */\nimport Headers from './headers.js';\nimport Body, { clone, extractContentType } from './body.js';\nimport { isRedirect } from './utils/is-redirect.js';\nconst INTERNALS = Symbol('Response internals');\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\n\nexport default class Response extends Body {\n  constructor() {\n    let body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super(body, options); // eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\n    const status = options.status != null ? options.status : 200;\n    const headers = new Headers(options.headers);\n\n    if (body !== null && !headers.has('Content-Type')) {\n      const contentType = extractContentType(body, this);\n\n      if (contentType) {\n        headers.append('Content-Type', contentType);\n      }\n    }\n\n    this[INTERNALS] = {\n      type: 'default',\n      url: options.url,\n      status,\n      statusText: options.statusText || '',\n      headers,\n      counter: options.counter,\n      highWaterMark: options.highWaterMark\n    };\n  }\n\n  get type() {\n    return this[INTERNALS].type;\n  }\n\n  get url() {\n    return this[INTERNALS].url || '';\n  }\n\n  get status() {\n    return this[INTERNALS].status;\n  }\n  /**\n   * Convenience property representing if the request ended normally\n   */\n\n\n  get ok() {\n    return this[INTERNALS].status >= 200 && this[INTERNALS].status < 300;\n  }\n\n  get redirected() {\n    return this[INTERNALS].counter > 0;\n  }\n\n  get statusText() {\n    return this[INTERNALS].statusText;\n  }\n\n  get headers() {\n    return this[INTERNALS].headers;\n  }\n\n  get highWaterMark() {\n    return this[INTERNALS].highWaterMark;\n  }\n  /**\n   * Clone this response\n   *\n   * @return  Response\n   */\n\n\n  clone() {\n    return new Response(clone(this, this.highWaterMark), {\n      type: this.type,\n      url: this.url,\n      status: this.status,\n      statusText: this.statusText,\n      headers: this.headers,\n      ok: this.ok,\n      redirected: this.redirected,\n      size: this.size,\n      highWaterMark: this.highWaterMark\n    });\n  }\n  /**\n   * @param {string} url    The URL that the new response is to originate from.\n   * @param {number} status An optional status code for the response (e.g., 302.)\n   * @returns {Response}    A Response object.\n   */\n\n\n  static redirect(url) {\n    let status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 302;\n\n    if (!isRedirect(status)) {\n      throw new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n    }\n\n    return new Response(null, {\n      headers: {\n        location: new URL(url).toString()\n      },\n      status\n    });\n  }\n\n  static error() {\n    const response = new Response(null, {\n      status: 0,\n      statusText: ''\n    });\n    response[INTERNALS].type = 'error';\n    return response;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Response';\n  }\n\n}\nObject.defineProperties(Response.prototype, {\n  type: {\n    enumerable: true\n  },\n  url: {\n    enumerable: true\n  },\n  status: {\n    enumerable: true\n  },\n  ok: {\n    enumerable: true\n  },\n  redirected: {\n    enumerable: true\n  },\n  statusText: {\n    enumerable: true\n  },\n  headers: {\n    enumerable: true\n  },\n  clone: {\n    enumerable: true\n  }\n});","map":{"version":3,"names":["Headers","Body","clone","extractContentType","isRedirect","INTERNALS","Symbol","Response","constructor","body","options","status","headers","has","contentType","append","type","url","statusText","counter","highWaterMark","ok","redirected","size","redirect","RangeError","location","URL","toString","error","response","toStringTag","Object","defineProperties","prototype","enumerable"],"sources":["/home/jordanm/Documents/GitHub/SWE4103-Team-Project/ontrack/node_modules/node-fetch/src/response.js"],"sourcesContent":["/**\n * Response.js\n *\n * Response class provides content decoding\n */\n\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType} from './body.js';\nimport {isRedirect} from './utils/is-redirect.js';\n\nconst INTERNALS = Symbol('Response internals');\n\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Response extends Body {\n\tconstructor(body = null, options = {}) {\n\t\tsuper(body, options);\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\t\tconst status = options.status != null ? options.status : 200;\n\n\t\tconst headers = new Headers(options.headers);\n\n\t\tif (body !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\ttype: 'default',\n\t\t\turl: options.url,\n\t\t\tstatus,\n\t\t\tstatusText: options.statusText || '',\n\t\t\theaders,\n\t\t\tcounter: options.counter,\n\t\t\thighWaterMark: options.highWaterMark\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn this[INTERNALS].type;\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS].status;\n\t}\n\n\t/**\n\t * Convenience property representing if the request ended normally\n\t */\n\tget ok() {\n\t\treturn this[INTERNALS].status >= 200 && this[INTERNALS].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget highWaterMark() {\n\t\treturn this[INTERNALS].highWaterMark;\n\t}\n\n\t/**\n\t * Clone this response\n\t *\n\t * @return  Response\n\t */\n\tclone() {\n\t\treturn new Response(clone(this, this.highWaterMark), {\n\t\t\ttype: this.type,\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected,\n\t\t\tsize: this.size,\n\t\t\thighWaterMark: this.highWaterMark\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} url    The URL that the new response is to originate from.\n\t * @param {number} status An optional status code for the response (e.g., 302.)\n\t * @returns {Response}    A Response object.\n\t */\n\tstatic redirect(url, status = 302) {\n\t\tif (!isRedirect(status)) {\n\t\t\tthrow new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n\t\t}\n\n\t\treturn new Response(null, {\n\t\t\theaders: {\n\t\t\t\tlocation: new URL(url).toString()\n\t\t\t},\n\t\t\tstatus\n\t\t});\n\t}\n\n\tstatic error() {\n\t\tconst response = new Response(null, {status: 0, statusText: ''});\n\t\tresponse[INTERNALS].type = 'error';\n\t\treturn response;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Response';\n\t}\n}\n\nObject.defineProperties(Response.prototype, {\n\ttype: {enumerable: true},\n\turl: {enumerable: true},\n\tstatus: {enumerable: true},\n\tok: {enumerable: true},\n\tredirected: {enumerable: true},\n\tstatusText: {enumerable: true},\n\theaders: {enumerable: true},\n\tclone: {enumerable: true}\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA,OAAOA,OAAP,MAAoB,cAApB;AACA,OAAOC,IAAP,IAAcC,KAAd,EAAqBC,kBAArB,QAA8C,WAA9C;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAEA,MAAMC,SAAS,GAAGC,MAAM,CAAC,oBAAD,CAAxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,QAAN,SAAuBN,IAAvB,CAA4B;EAC1CO,WAAW,GAA4B;IAAA,IAA3BC,IAA2B,uEAApB,IAAoB;IAAA,IAAdC,OAAc,uEAAJ,EAAI;IACtC,MAAMD,IAAN,EAAYC,OAAZ,EADsC,CAGtC;;IACA,MAAMC,MAAM,GAAGD,OAAO,CAACC,MAAR,IAAkB,IAAlB,GAAyBD,OAAO,CAACC,MAAjC,GAA0C,GAAzD;IAEA,MAAMC,OAAO,GAAG,IAAIZ,OAAJ,CAAYU,OAAO,CAACE,OAApB,CAAhB;;IAEA,IAAIH,IAAI,KAAK,IAAT,IAAiB,CAACG,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAtB,EAAmD;MAClD,MAAMC,WAAW,GAAGX,kBAAkB,CAACM,IAAD,EAAO,IAAP,CAAtC;;MACA,IAAIK,WAAJ,EAAiB;QAChBF,OAAO,CAACG,MAAR,CAAe,cAAf,EAA+BD,WAA/B;MACA;IACD;;IAED,KAAKT,SAAL,IAAkB;MACjBW,IAAI,EAAE,SADW;MAEjBC,GAAG,EAAEP,OAAO,CAACO,GAFI;MAGjBN,MAHiB;MAIjBO,UAAU,EAAER,OAAO,CAACQ,UAAR,IAAsB,EAJjB;MAKjBN,OALiB;MAMjBO,OAAO,EAAET,OAAO,CAACS,OANA;MAOjBC,aAAa,EAAEV,OAAO,CAACU;IAPN,CAAlB;EASA;;EAEO,IAAJJ,IAAI,GAAG;IACV,OAAO,KAAKX,SAAL,EAAgBW,IAAvB;EACA;;EAEM,IAAHC,GAAG,GAAG;IACT,OAAO,KAAKZ,SAAL,EAAgBY,GAAhB,IAAuB,EAA9B;EACA;;EAES,IAANN,MAAM,GAAG;IACZ,OAAO,KAAKN,SAAL,EAAgBM,MAAvB;EACA;EAED;AACD;AACA;;;EACO,IAAFU,EAAE,GAAG;IACR,OAAO,KAAKhB,SAAL,EAAgBM,MAAhB,IAA0B,GAA1B,IAAiC,KAAKN,SAAL,EAAgBM,MAAhB,GAAyB,GAAjE;EACA;;EAEa,IAAVW,UAAU,GAAG;IAChB,OAAO,KAAKjB,SAAL,EAAgBc,OAAhB,GAA0B,CAAjC;EACA;;EAEa,IAAVD,UAAU,GAAG;IAChB,OAAO,KAAKb,SAAL,EAAgBa,UAAvB;EACA;;EAEU,IAAPN,OAAO,GAAG;IACb,OAAO,KAAKP,SAAL,EAAgBO,OAAvB;EACA;;EAEgB,IAAbQ,aAAa,GAAG;IACnB,OAAO,KAAKf,SAAL,EAAgBe,aAAvB;EACA;EAED;AACD;AACA;AACA;AACA;;;EACClB,KAAK,GAAG;IACP,OAAO,IAAIK,QAAJ,CAAaL,KAAK,CAAC,IAAD,EAAO,KAAKkB,aAAZ,CAAlB,EAA8C;MACpDJ,IAAI,EAAE,KAAKA,IADyC;MAEpDC,GAAG,EAAE,KAAKA,GAF0C;MAGpDN,MAAM,EAAE,KAAKA,MAHuC;MAIpDO,UAAU,EAAE,KAAKA,UAJmC;MAKpDN,OAAO,EAAE,KAAKA,OALsC;MAMpDS,EAAE,EAAE,KAAKA,EAN2C;MAOpDC,UAAU,EAAE,KAAKA,UAPmC;MAQpDC,IAAI,EAAE,KAAKA,IARyC;MASpDH,aAAa,EAAE,KAAKA;IATgC,CAA9C,CAAP;EAWA;EAED;AACD;AACA;AACA;AACA;;;EACgB,OAARI,QAAQ,CAACP,GAAD,EAAoB;IAAA,IAAdN,MAAc,uEAAL,GAAK;;IAClC,IAAI,CAACP,UAAU,CAACO,MAAD,CAAf,EAAyB;MACxB,MAAM,IAAIc,UAAJ,CAAe,iEAAf,CAAN;IACA;;IAED,OAAO,IAAIlB,QAAJ,CAAa,IAAb,EAAmB;MACzBK,OAAO,EAAE;QACRc,QAAQ,EAAE,IAAIC,GAAJ,CAAQV,GAAR,EAAaW,QAAb;MADF,CADgB;MAIzBjB;IAJyB,CAAnB,CAAP;EAMA;;EAEW,OAALkB,KAAK,GAAG;IACd,MAAMC,QAAQ,GAAG,IAAIvB,QAAJ,CAAa,IAAb,EAAmB;MAACI,MAAM,EAAE,CAAT;MAAYO,UAAU,EAAE;IAAxB,CAAnB,CAAjB;IACAY,QAAQ,CAACzB,SAAD,CAAR,CAAoBW,IAApB,GAA2B,OAA3B;IACA,OAAOc,QAAP;EACA;;EAEsB,KAAlBxB,MAAM,CAACyB,WAAW,IAAI;IAC1B,OAAO,UAAP;EACA;;AA3GyC;AA8G3CC,MAAM,CAACC,gBAAP,CAAwB1B,QAAQ,CAAC2B,SAAjC,EAA4C;EAC3ClB,IAAI,EAAE;IAACmB,UAAU,EAAE;EAAb,CADqC;EAE3ClB,GAAG,EAAE;IAACkB,UAAU,EAAE;EAAb,CAFsC;EAG3CxB,MAAM,EAAE;IAACwB,UAAU,EAAE;EAAb,CAHmC;EAI3Cd,EAAE,EAAE;IAACc,UAAU,EAAE;EAAb,CAJuC;EAK3Cb,UAAU,EAAE;IAACa,UAAU,EAAE;EAAb,CAL+B;EAM3CjB,UAAU,EAAE;IAACiB,UAAU,EAAE;EAAb,CAN+B;EAO3CvB,OAAO,EAAE;IAACuB,UAAU,EAAE;EAAb,CAPkC;EAQ3CjC,KAAK,EAAE;IAACiC,UAAU,EAAE;EAAb;AARoC,CAA5C"},"metadata":{},"sourceType":"module"}